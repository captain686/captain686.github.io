{"meta":{"title":"Hexo","subtitle":"","description":"Blog","author":"Captain686","url":"https://captain686.github.io","root":"/"},"pages":[{"title":"","date":"2022-06-01T17:56:56.391Z","updated":"2022-06-01T17:56:56.391Z","comments":true,"path":"404.html","permalink":"https://captain686.github.io/404.html","excerpt":"","text":"404 很抱歉，您访问的页面不存在 可能是输入地址有误或该地址已被删除"},{"title":"","date":"2022-06-01T18:04:46.268Z","updated":"2022-06-01T18:04:46.268Z","comments":true,"path":"about/index.html","permalink":"https://captain686.github.io/about/index.html","excerpt":"","text":"Wh0am1"},{"title":"所有分类","date":"2022-06-01T17:55:36.480Z","updated":"2022-06-01T17:55:36.480Z","comments":true,"path":"categories/index.html","permalink":"https://captain686.github.io/categories/index.html","excerpt":"","text":""},{"title":"所有标签","date":"2022-06-01T17:56:01.690Z","updated":"2022-06-01T17:56:01.690Z","comments":true,"path":"tags/index.html","permalink":"https://captain686.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"内网信息收集","slug":"内网信息收集","date":"2022-06-02T01:40:28.000Z","updated":"2022-06-02T09:16:22.678Z","comments":true,"path":"2022/06/02/内网信息收集/","link":"","permalink":"https://captain686.github.io/2022/06/02/%E5%86%85%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/","excerpt":"","text":"信息收集是否在域 ipconfig 查看网关IP地址，DNS的ip地址、域名、本机是否和DNS服务器处于同一网段 ipconfig /all查看DNS后缀与DNS后缀搜索列表 nslookup解析DNS后缀 域名的IP地址，查看是否与DNS服务器在同一IP上。 systeminfo 使用systeminfo直接查看域 net config workstation net time /domain 查看当前登录域及域⽤户 net config workstation 通过工作站域判断是否在域 本机信息搜集 ： 网卡信息收集 1ipconfig \\all 系统版本查询 1systeminfo | findstr /B /C:&quot;OS 名称&quot; /C:&quot;OS 版本&quot; （以便针对性地搜集exp提权） 查看系统体系结构 1echo %PROCESSOR_ARCHITECTURE% 查询本机服务信息 1wmic service list brief 查看进程 1tasklit /v 查看主机开机时间 1net statistics workstation 查看用户以及当前在线用户 12net userquery user || qwinsta 查看开放端口 1netstat -ano 域内信息收集 获取SID 1whoami /all 查询域内用户 1net user /domain 查询域列表 1net view /domain 查询域管理员列表 1net group &quot;domain admins&quot; /domain 查看域内时间 1net time /domain 查看登录本机的域管理员 1net localgroup administrators /domain 查看主控域 1netdom query pdc 查看域密码信息 1net account /domain","categories":[],"tags":[{"name":"safe","slug":"safe","permalink":"https://captain686.github.io/tags/safe/"},{"name":"web","slug":"web","permalink":"https://captain686.github.io/tags/web/"},{"name":"内网","slug":"内网","permalink":"https://captain686.github.io/tags/%E5%86%85%E7%BD%91/"}],"author":"captain"},{"title":"Picgo插件","slug":"Picgo插件","date":"2022-06-01T18:39:21.000Z","updated":"2022-06-02T01:41:58.762Z","comments":true,"path":"2022/06/02/Picgo插件/","link":"","permalink":"https://captain686.github.io/2022/06/02/Picgo%E6%8F%92%E4%BB%B6/","excerpt":"","text":"Picgo uploader 🙈填一下一年前挖下的坑 最近重新看了一下PicGo的开发文档发现不是特别难，直接开搞 根据官方文档 PicGo可以供开发的部件总共有5个部分： 两个模块： Transformer Uploader提示 这两个部件在上传的生命周期里各只会调用一次。比如picgo默认带有8种Uploader，但是在一次上传过程中 只会调用某一个 选定的Uploader来上传。 三个生命周期插件入口： beforeTransformPlugins beforeUploadPlugins afterUploadPlugins 感兴趣的可以自己去看一下官方文档，我们开发插件主要是自定义uploader 新建插件1picgo init plug &lt;Your-Plugin-Name&gt; 在src下的index文件就是要编写的主体 具体代码就先不放了，感兴趣移步github看一下我的另一个插件吧 注：此图床适于外链转存图片，但是不适用于外网加载 而imgbb却恰恰与此相反 我们主要写的部分在 1234567//这部分主要根据实际上传请求体进行构造，需要注意的点是headers里面不能有accept-encoding: gzip, deflate, br//如果gzip出现在headers将会导致下面的请求返回数据无法解析const postOptions = (fileName, image)//这部分主要进行图片数据的传递与返回体的数据解析//图片数据的传递在buffer和base64值二选一即可，具体根据图片上传数据决定const handle = async (ctx) 一个简单的uploader总共需要60行左右代码就能搞定基本都是一个模板，稍微修改一下就可以用 🤖About picgo-plugin-imgbb采用imgbb作为图床，图片大小最大支持35M 图床示例 🚀 Use CLI安装 12picgo install imgbbpicgo use uploader 选择imgbb回车 图形化安装 直接在插件搜索框搜索imgbb选择使用即可，另一款也同理","categories":[],"tags":[{"name":"code","slug":"code","permalink":"https://captain686.github.io/tags/code/"},{"name":"nodejs","slug":"nodejs","permalink":"https://captain686.github.io/tags/nodejs/"}],"author":"captain"}],"categories":[],"tags":[{"name":"safe","slug":"safe","permalink":"https://captain686.github.io/tags/safe/"},{"name":"web","slug":"web","permalink":"https://captain686.github.io/tags/web/"},{"name":"内网","slug":"内网","permalink":"https://captain686.github.io/tags/%E5%86%85%E7%BD%91/"},{"name":"code","slug":"code","permalink":"https://captain686.github.io/tags/code/"},{"name":"nodejs","slug":"nodejs","permalink":"https://captain686.github.io/tags/nodejs/"}]}